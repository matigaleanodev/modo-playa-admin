<ion-header>
  <ion-toolbar>
    <ion-title>Modo Playa Admin</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <div class="login-shell">
    <div class="login-card">
      <div class="login-head">
        <h1>Iniciar sesión</h1>
        <p>Ingresá con tu email o tu nombre de usuario.</p>
      </div>

      <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <ion-item>
          <ion-label position="stacked">Email o usuario</ion-label>
          <ion-input
            formControlName="identifier"
            inputmode="email"
            autocomplete="username"
            enterkeyhint="next"
          />
        </ion-item>

        @if (form.get('identifier')?.touched && form.get('identifier')?.invalid)
        {
        <ion-text color="danger" class="field-error">
          <p>Ingresá un email o usuario válido.</p>
        </ion-text>
        }

        <ion-item>
          <ion-label position="stacked">Contraseña</ion-label>
          <ion-input
            type="password"
            formControlName="password"
            autocomplete="current-password"
            enterkeyhint="done"
          />
        </ion-item>

        @if (form.get('password')?.touched && form.get('password')?.invalid) {
        <ion-text color="danger" class="field-error">
          <p>La contraseña es requerida.</p>
        </ion-text>
        }

        <ion-button
          expand="block"
          type="submit"
          class="ion-margin-top"
          [disabled]="form.invalid"
        >
          Entrar
        </ion-button>

        <div class="login-links">
          <ion-button fill="clear" size="small" routerLink="/forgot-password">
            Olvidé mi contraseña
          </ion-button>

          <ion-button fill="clear" size="small" routerLink="/activate">
            Activar cuenta
          </ion-button>
        </div>
      </form>
    </div>
  </div>
</ion-content>
